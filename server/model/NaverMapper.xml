<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="NaverMapper">
  <!-- 구매 버튼 누른 아이템의 정보가 담기는 쿼리 -->
  <insert id="buyItem">
      INSERT into react.product_naver
      (
          productId,
          title,
          image,
          category1,
          category2,
          category3,
          category4,
          buyCount,
          insertDate
        )
        VALUES 
        (
          #{item.productId},
          #{item.title},
          #{item.image},
          #{item.category1},
          #{item.category2},
          #{item.category3},
          #{item.category4},
          1,
          now()
        )
        ON DUPLICATE KEY UPDATE
        buyCount = buyCount + 1,
        updateDate = now()
  </insert>
  <!-- 구매된 모든 아이템들 정보가 담기는 쿼리 -->
  <select id="allBuyItem">
  </select>
</mapper>